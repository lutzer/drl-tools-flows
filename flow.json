[
    {
        "id": "94360486.e11da8",
        "type": "tab",
        "label": "Test",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c07a1be8.659658",
        "type": "tab",
        "label": "Test2",
        "disabled": false,
        "info": ""
    },
    {
        "id": "29928cb0.ddef64",
        "type": "tab",
        "label": "Intent Beispiel",
        "disabled": false,
        "info": ""
    },
    {
        "id": "79d9afa4.2a85",
        "type": "subflow",
        "name": "speech-to-text",
        "info": "",
        "category": "tools",
        "in": [
            {
                "x": 20,
                "y": 220,
                "wires": [
                    {
                        "id": "ec9075e3.0481e8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1300,
                "y": 160,
                "wires": [
                    {
                        "id": "f8c7b0b1.b8edd",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1300,
                "y": 220,
                "wires": [
                    {
                        "id": "a068987f.813c98",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "language",
                "type": "str",
                "value": "de",
                "ui": {
                    "type": "input",
                    "opts": {
                        "types": [
                            "str"
                        ]
                    }
                }
            },
            {
                "name": "timeout",
                "type": "num",
                "value": "2",
                "ui": {
                    "type": "spinner"
                }
            },
            {
                "name": "duration",
                "type": "num",
                "value": "0",
                "ui": {
                    "type": "spinner"
                }
            },
            {
                "name": "play_beep",
                "type": "bool",
                "value": "true"
            }
        ],
        "color": "#FFAAAA",
        "outputLabels": [
            "best match",
            "alternatives"
        ],
        "icon": "font-awesome/fa-microphone",
        "status": {
            "x": 1300,
            "y": 380,
            "wires": [
                {
                    "id": "72f194da.35b22c",
                    "port": 0
                },
                {
                    "id": "c28f3676.360ea8",
                    "port": 0
                },
                {
                    "id": "b1725466.c00e58",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "ab8c8a6d.bb5358",
        "type": "subflow",
        "name": "text to speech",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "7a9114e4.b7aa8c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 760,
                "y": 80,
                "wires": [
                    {
                        "id": "1fcc4076.5ee39",
                        "port": 2
                    },
                    {
                        "id": "4a0da2a9.e2c17c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "engine",
                "type": "str",
                "value": "say"
            },
            {
                "name": "language",
                "type": "str",
                "value": "de"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 440,
            "y": 220,
            "wires": [
                {
                    "id": "220ece7.5afd932",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "98284da6.430f8",
        "type": "group",
        "z": "29928cb0.ddef64",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "68fdf52d.1c99dc",
            "81aed966.ebadd8",
            "6e155f41.5635b",
            "fecc3e62.d266f",
            "bc7ab630.9dac68",
            "b90b610c.554ac",
            "c196ff51.b0952"
        ],
        "x": 314,
        "y": 99,
        "w": 1132,
        "h": 222
    },
    {
        "id": "a8081aca.df57b8",
        "type": "group",
        "z": "29928cb0.ddef64",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d15ad5bf.e12d78",
            "e89ec1ba.979e5",
            "bec2c8b0.15be08",
            "9a382a9b.e2dd78",
            "3cfe07d8.4c92d8",
            "4341ba2b.f38f84"
        ],
        "x": 314,
        "y": 379,
        "w": 872,
        "h": 162
    },
    {
        "id": "fec5c43f.4caea8",
        "type": "group",
        "z": "29928cb0.ddef64",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "98bc2bf7.6ca018",
            "cb462194.001c2",
            "493d362f.229aa8",
            "73827c9a.ce4794",
            "fa2af600.fbf0f8",
            "9875010.9d1e3",
            "dba86aa0.7fd678",
            "916ee524.eed348"
        ],
        "x": 314,
        "y": 599,
        "w": 712,
        "h": 222
    },
    {
        "id": "7f6892dc.4d798c",
        "type": "group",
        "z": "29928cb0.ddef64",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5eae2d88.de40d4",
            "aa0a7f07.b72af",
            "990da5ae.a2f568",
            "c73765d4.c77538",
            "bed8a17f.0a7b7"
        ],
        "x": 1074,
        "y": 599,
        "w": 712,
        "h": 222
    },
    {
        "id": "bc4a0f7b.4ef6f",
        "type": "group",
        "z": "29928cb0.ddef64",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d590080b.6ae9c8",
            "fad51bc4.ebd5f8",
            "ccbe8e67.a7c8",
            "e150954.bc7ee68",
            "f5e6377c.9b9fc8",
            "ef4c666c.3eb1a8",
            "3240d69a.8af01a"
        ],
        "x": 314,
        "y": 879,
        "w": 972,
        "h": 262
    },
    {
        "id": "c531aa1.9af8558",
        "type": "soundfile-directory",
        "directory": "sounds"
    },
    {
        "id": "f0c6baff.ba8948",
        "type": "soundfile-directory",
        "directory": "/Users/lutz/Projects/drl-tools/modules/speech-to-text/test"
    },
    {
        "id": "eb1e38c5.555ec8",
        "type": "say",
        "z": "94360486.e11da8",
        "name": "Hallo wie gehts dir?",
        "voice": "",
        "x": 430,
        "y": 260,
        "wires": [
            [
                "856beb38.d7f848"
            ]
        ]
    },
    {
        "id": "cd537e93.14673",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 260,
        "wires": [
            [
                "eb1e38c5.555ec8"
            ]
        ]
    },
    {
        "id": "856beb38.d7f848",
        "type": "delay",
        "z": "94360486.e11da8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 640,
        "y": 260,
        "wires": [
            [
                "cedc6cc0.ad0d7"
            ]
        ]
    },
    {
        "id": "cedc6cc0.ad0d7",
        "type": "say",
        "z": "94360486.e11da8",
        "name": "Ich heisse Lea und ich wohne in dieser Dose.",
        "voice": "",
        "x": 930,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "69acd930.266828",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "idle",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 190,
        "y": 480,
        "wires": [
            [
                "dc01008f.6c0f7"
            ]
        ]
    },
    {
        "id": "1ffa795e.b92317",
        "type": "link out",
        "z": "94360486.e11da8",
        "name": "",
        "links": [
            "5297f838.cbc3b8"
        ],
        "x": 1375,
        "y": 520,
        "wires": []
    },
    {
        "id": "cc9e0937.4b1308",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "start",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 120,
        "wires": [
            [
                "aa31d2cd.0a8ea"
            ]
        ]
    },
    {
        "id": "b4a0e6b8.244108",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 120,
        "wires": []
    },
    {
        "id": "aa31d2cd.0a8ea",
        "type": "delay",
        "z": "94360486.e11da8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 460,
        "y": 120,
        "wires": [
            [
                "b4a0e6b8.244108"
            ]
        ]
    },
    {
        "id": "c0df7363.1c449",
        "type": "exec",
        "z": "79d9afa4.2a85",
        "command": "stt_record",
        "addpay": true,
        "append": "",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "record",
        "x": 670,
        "y": 220,
        "wires": [
            [
                "a068987f.813c98"
            ],
            [
                "b1725466.c00e58"
            ],
            [
                "230ebf7e.956d1",
                "f7d85c88.15f84"
            ]
        ]
    },
    {
        "id": "a068987f.813c98",
        "type": "function",
        "z": "79d9afa4.2a85",
        "name": "",
        "func": "msg.payload = JSON.parse(msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 840,
        "y": 220,
        "wires": [
            [
                "f8c7b0b1.b8edd",
                "c28f3676.360ea8"
            ]
        ]
    },
    {
        "id": "f8c7b0b1.b8edd",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0][0].transcript",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "1fcc4076.5ee39",
        "type": "exec",
        "z": "ab8c8a6d.bb5358",
        "command": "/Users/lutz/Projects/drl-tools/modules/text-to-speech/.venv/bin/python /Users/lutz/Projects/drl-tools/modules/text-to-speech/speak.py",
        "addpay": true,
        "append": "",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "speak",
        "x": 510,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "220ece7.5afd932",
        "type": "status",
        "z": "ab8c8a6d.bb5358",
        "name": "",
        "scope": [
            "1fcc4076.5ee39",
            "4a0da2a9.e2c17c"
        ],
        "x": 210,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4a0da2a9.e2c17c",
        "type": "say",
        "z": "ab8c8a6d.bb5358",
        "name": "",
        "voice": "",
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a9114e4.b7aa8c",
        "type": "switch",
        "z": "ab8c8a6d.bb5358",
        "name": "",
        "property": "engine",
        "propertyType": "env",
        "rules": [
            {
                "t": "eq",
                "v": "google",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "say",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 170,
        "y": 80,
        "wires": [
            [
                "2a0d725c.27289e"
            ],
            [
                "4a0da2a9.e2c17c"
            ]
        ]
    },
    {
        "id": "2a0d725c.27289e",
        "type": "function",
        "z": "ab8c8a6d.bb5358",
        "name": "set language",
        "func": "let lang = env.get(\"language\");\nmsg.payload = `\"${msg.payload}\" --lang ${lang}`\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 80,
        "wires": [
            [
                "1fcc4076.5ee39"
            ]
        ]
    },
    {
        "id": "f807b4e5.fcbb28",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Test",
        "payloadType": "str",
        "x": 190,
        "y": 900,
        "wires": [
            [
                "42572f47.fd982"
            ]
        ]
    },
    {
        "id": "19cf1cef.d8cee3",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 940,
        "wires": []
    },
    {
        "id": "69d2de65.2bad4",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Peter",
        "payloadType": "str",
        "x": 160,
        "y": 960,
        "wires": [
            [
                "42572f47.fd982"
            ]
        ]
    },
    {
        "id": "1d5cf971.7c7997",
        "type": "inject",
        "z": "29928cb0.ddef64",
        "name": "start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 260,
        "wires": [
            [
                "bc7ab630.9dac68"
            ]
        ]
    },
    {
        "id": "68fdf52d.1c99dc",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "Hallo, willkommen im Museum.",
        "voice": "",
        "x": 710,
        "y": 200,
        "wires": [
            [
                "81aed966.ebadd8"
            ]
        ]
    },
    {
        "id": "81aed966.ebadd8",
        "type": "delay",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1020,
        "y": 240,
        "wires": [
            [
                "6e155f41.5635b"
            ]
        ]
    },
    {
        "id": "6e155f41.5635b",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "Vermisst du das Museum ueberhaupt?",
        "voice": "",
        "x": 1270,
        "y": 240,
        "wires": [
            [
                "d15ad5bf.e12d78"
            ]
        ]
    },
    {
        "id": "d15ad5bf.e12d78",
        "type": "subflow:79d9afa4.2a85",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "",
        "env": [],
        "x": 420,
        "y": 500,
        "wires": [
            [
                "e89ec1ba.979e5"
            ],
            []
        ]
    },
    {
        "id": "b91276d7.64be98",
        "type": "function",
        "z": "79d9afa4.2a85",
        "name": "set language, timeout, duration",
        "func": "let lang = env.get(\"language\");\nlet arg2 = env.get('duration') > 0 ? \n    `--duration ${env.get('duration')}` :\n    `--timeout ${env.get('timeout')}`\nmsg.payload = `\"--lang ${lang} ${arg2}`\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 450,
        "y": 220,
        "wires": [
            [
                "c0df7363.1c449"
            ]
        ]
    },
    {
        "id": "98bc2bf7.6ca018",
        "type": "switch",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "",
        "property": "payload.key",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "yes",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "no",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 390,
        "y": 740,
        "wires": [
            [
                "cb462194.001c2"
            ],
            [
                "493d362f.229aa8"
            ],
            [
                "73827c9a.ce4794"
            ]
        ]
    },
    {
        "id": "cb462194.001c2",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "Das freut mich. Ich bin auch gerne hier.",
        "voice": "",
        "x": 680,
        "y": 700,
        "wires": [
            [
                "9875010.9d1e3"
            ]
        ]
    },
    {
        "id": "493d362f.229aa8",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "Du findest es also langweilig hier?",
        "voice": "",
        "x": 660,
        "y": 740,
        "wires": [
            [
                "fa2af600.fbf0f8"
            ]
        ]
    },
    {
        "id": "73827c9a.ce4794",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "Ich habe dich leider nicht verstanden",
        "voice": "",
        "x": 670,
        "y": 780,
        "wires": [
            [
                "dba86aa0.7fd678"
            ]
        ]
    },
    {
        "id": "e89ec1ba.979e5",
        "type": "switch",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "isEmpty",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 620,
        "y": 500,
        "wires": [
            [
                "bec2c8b0.15be08"
            ],
            [
                "3cfe07d8.4c92d8"
            ]
        ]
    },
    {
        "id": "bec2c8b0.15be08",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "Du hast ja gar nichts gesagt.",
        "voice": "",
        "x": 880,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "fa2af600.fbf0f8",
        "type": "delay",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "",
        "pauseType": "delay",
        "timeout": "0.5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 930,
        "y": 740,
        "wires": [
            [
                "5eae2d88.de40d4"
            ]
        ]
    },
    {
        "id": "5eae2d88.de40d4",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "7f6892dc.4d798c",
        "name": "was müsste es denn hier geben damit du ins museum gehen willst?",
        "voice": "",
        "x": 1340,
        "y": 740,
        "wires": [
            [
                "bed8a17f.0a7b7"
            ]
        ]
    },
    {
        "id": "d590080b.6ae9c8",
        "type": "subflow:79d9afa4.2a85",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "",
        "env": [
            {
                "name": "timeout",
                "value": "3",
                "type": "num"
            }
        ],
        "x": 420,
        "y": 1000,
        "wires": [
            [
                "fad51bc4.ebd5f8",
                "e150954.bc7ee68"
            ],
            []
        ]
    },
    {
        "id": "9875010.9d1e3",
        "type": "delay",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "",
        "pauseType": "delay",
        "timeout": "0.5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 930,
        "y": 700,
        "wires": [
            [
                "aa0a7f07.b72af"
            ]
        ]
    },
    {
        "id": "aa0a7f07.b72af",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "7f6892dc.4d798c",
        "name": "Vermisst du denn trotzdem irgendwas am Museum?",
        "voice": "",
        "x": 1380,
        "y": 700,
        "wires": [
            [
                "bed8a17f.0a7b7"
            ]
        ]
    },
    {
        "id": "dba86aa0.7fd678",
        "type": "delay",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "",
        "pauseType": "delay",
        "timeout": "0.5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 930,
        "y": 780,
        "wires": [
            [
                "990da5ae.a2f568"
            ]
        ]
    },
    {
        "id": "990da5ae.a2f568",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "7f6892dc.4d798c",
        "name": "Was hältst du denn von Musrum?",
        "voice": "",
        "x": 1440,
        "y": 780,
        "wires": [
            [
                "bed8a17f.0a7b7"
            ]
        ]
    },
    {
        "id": "fad51bc4.ebd5f8",
        "type": "debug",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ccbe8e67.a7c8",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "Danke fuer deine Antwort. Ich hoffe wir sprechen uns bald wieder.",
        "voice": "",
        "x": 1020,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "e150954.bc7ee68",
        "type": "switch",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "isEmpty",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 660,
        "y": 1000,
        "wires": [
            [
                "f5e6377c.9b9fc8"
            ],
            [
                "ccbe8e67.a7c8"
            ]
        ]
    },
    {
        "id": "f5e6377c.9b9fc8",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "Na, vielleicht fällt dir ja spaeter noch etwas ein.",
        "voice": "",
        "x": 960,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "9a382a9b.e2dd78",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "listening to yes/no",
        "info": "",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "fecc3e62.d266f",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "welcome",
        "info": "",
        "x": 400,
        "y": 140,
        "wires": []
    },
    {
        "id": "916ee524.eed348",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "fec5c43f.4caea8",
        "name": "response on yes/no",
        "info": "",
        "x": 430,
        "y": 640,
        "wires": []
    },
    {
        "id": "c73765d4.c77538",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "7f6892dc.4d798c",
        "name": "follow up question",
        "info": "",
        "x": 1190,
        "y": 640,
        "wires": []
    },
    {
        "id": "ef4c666c.3eb1a8",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "listening and transcribing response",
        "info": "",
        "x": 480,
        "y": 920,
        "wires": []
    },
    {
        "id": "3240d69a.8af01a",
        "type": "comment",
        "z": "29928cb0.ddef64",
        "g": "bc4a0f7b.4ef6f",
        "name": "output",
        "info": "",
        "x": 650,
        "y": 1060,
        "wires": []
    },
    {
        "id": "7b872cdc.4024b4",
        "type": "random-output",
        "z": "94360486.e11da8",
        "name": "",
        "outputs": 3,
        "x": 540,
        "y": 1240,
        "wires": [
            [
                "917a0999.7d2ec8"
            ],
            [
                "612c3275.3fc5dc"
            ],
            [
                "a5617282.536d3"
            ]
        ]
    },
    {
        "id": "b6f15bf7.d8b698",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 360,
        "y": 1240,
        "wires": [
            [
                "7b872cdc.4024b4"
            ]
        ]
    },
    {
        "id": "917a0999.7d2ec8",
        "type": "change",
        "z": "94360486.e11da8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1200,
        "wires": [
            [
                "d102b09f.4dc06"
            ]
        ]
    },
    {
        "id": "612c3275.3fc5dc",
        "type": "change",
        "z": "94360486.e11da8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1240,
        "wires": [
            [
                "d102b09f.4dc06"
            ]
        ]
    },
    {
        "id": "a5617282.536d3",
        "type": "change",
        "z": "94360486.e11da8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1280,
        "wires": [
            [
                "d102b09f.4dc06"
            ]
        ]
    },
    {
        "id": "d102b09f.4dc06",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 1240,
        "wires": []
    },
    {
        "id": "bc7ab630.9dac68",
        "type": "random-output",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "",
        "outputs": 3,
        "x": 420,
        "y": 240,
        "wires": [
            [
                "68fdf52d.1c99dc"
            ],
            [
                "b90b610c.554ac"
            ],
            [
                "c196ff51.b0952"
            ]
        ]
    },
    {
        "id": "b90b610c.554ac",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "Hallo, schön, dass du da bist",
        "voice": "",
        "x": 700,
        "y": 240,
        "wires": [
            [
                "81aed966.ebadd8"
            ]
        ]
    },
    {
        "id": "c196ff51.b0952",
        "type": "say",
        "z": "29928cb0.ddef64",
        "g": "98284da6.430f8",
        "name": "Herzlich willkommen bei uns im Museum",
        "voice": "",
        "x": 740,
        "y": 280,
        "wires": [
            [
                "81aed966.ebadd8"
            ]
        ]
    },
    {
        "id": "5cc4d2eb.79c9bc",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "recording",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 420,
        "wires": [
            [
                "72f194da.35b22c"
            ]
        ]
    },
    {
        "id": "ec9075e3.0481e8",
        "type": "switch",
        "z": "79d9afa4.2a85",
        "name": "",
        "property": "recording",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 170,
        "y": 220,
        "wires": [
            [
                "5cc4d2eb.79c9bc",
                "b91276d7.64be98",
                "f7d85c88.15f84"
            ]
        ]
    },
    {
        "id": "230ebf7e.956d1",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "recording",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "91656406.08cdf8",
        "type": "subflow:79d9afa4.2a85",
        "z": "94360486.e11da8",
        "name": "",
        "env": [],
        "x": 470,
        "y": 360,
        "wires": [
            [
                "1d420538.4b478b"
            ],
            []
        ]
    },
    {
        "id": "4f7c10f1.f6a3c",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 980,
        "wires": []
    },
    {
        "id": "bed8a17f.0a7b7",
        "type": "function",
        "z": "29928cb0.ddef64",
        "g": "7f6892dc.4d798c",
        "name": "_",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1710,
        "y": 780,
        "wires": [
            [
                "d590080b.6ae9c8"
            ]
        ]
    },
    {
        "id": "a1852e4d.6faa1",
        "type": "subflow:79d9afa4.2a85",
        "z": "94360486.e11da8",
        "name": "",
        "env": [],
        "x": 1130,
        "y": 840,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bcdf0e4f.8fb37",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 830,
        "y": 840,
        "wires": [
            [
                "a1852e4d.6faa1"
            ]
        ]
    },
    {
        "id": "4341ba2b.f38f84",
        "type": "change",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "answer",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 500,
        "wires": [
            [
                "98bc2bf7.6ca018"
            ]
        ]
    },
    {
        "id": "27b9b027.c7e45",
        "type": "delay",
        "z": "94360486.e11da8",
        "name": "delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 510,
        "y": 480,
        "wires": [
            [
                "947d5e27.b35ad"
            ]
        ]
    },
    {
        "id": "dc01008f.6c0f7",
        "type": "function",
        "z": "94360486.e11da8",
        "name": "randomize",
        "func": "msg.delay =  2000 + Math.random() * 5000\nmsg.payload = Math.random() * 10\nmsg.topic = undefined\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 350,
        "y": 480,
        "wires": [
            [
                "27b9b027.c7e45"
            ]
        ]
    },
    {
        "id": "e7a4c31a.f6238",
        "type": "switch",
        "z": "94360486.e11da8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "lt",
                "v": "6",
                "vt": "str"
            },
            {
                "t": "lt",
                "v": "10",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 810,
        "y": 480,
        "wires": [
            [
                "3a3f3c9c.12a844"
            ],
            [
                "9a4c3f52.166"
            ],
            [
                "a1634d66.69099"
            ]
        ]
    },
    {
        "id": "3a3f3c9c.12a844",
        "type": "say",
        "z": "94360486.e11da8",
        "name": "Kann ich dir einen lustigen Witz erzaehlen?",
        "voice": "",
        "x": 1110,
        "y": 440,
        "wires": [
            [
                "1ffa795e.b92317"
            ]
        ]
    },
    {
        "id": "9a4c3f52.166",
        "type": "say",
        "z": "94360486.e11da8",
        "name": "Ich wuenschte Herbert wuerde mehr reden",
        "voice": "",
        "x": 1110,
        "y": 480,
        "wires": [
            [
                "1ffa795e.b92317"
            ]
        ]
    },
    {
        "id": "a1634d66.69099",
        "type": "say",
        "z": "94360486.e11da8",
        "name": "Mir ist voll langweilig",
        "voice": "",
        "x": 1040,
        "y": 520,
        "wires": [
            [
                "1ffa795e.b92317"
            ]
        ]
    },
    {
        "id": "5297f838.cbc3b8",
        "type": "link in",
        "z": "94360486.e11da8",
        "name": "",
        "links": [
            "1ffa795e.b92317"
        ],
        "x": 195,
        "y": 420,
        "wires": [
            [
                "dc01008f.6c0f7"
            ]
        ]
    },
    {
        "id": "13a402fa.d4257d",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "on/off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "toggle",
        "payloadType": "str",
        "x": 490,
        "y": 580,
        "wires": [
            [
                "947d5e27.b35ad"
            ]
        ]
    },
    {
        "id": "947d5e27.b35ad",
        "type": "gate",
        "z": "94360486.e11da8",
        "name": "",
        "controlTopic": "control",
        "defaultState": "open",
        "openCmd": "open",
        "closeCmd": "close",
        "toggleCmd": "toggle",
        "defaultCmd": "default",
        "statusCmd": "status",
        "persist": false,
        "x": 670,
        "y": 480,
        "wires": [
            [
                "e7a4c31a.f6238"
            ]
        ]
    },
    {
        "id": "72f194da.35b22c",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"text\" : \"recording\", \"fill\" : \"green\", \"shape\" : \"dot\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "c28f3676.360ea8",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "f91ec4b1.a88f28",
        "type": "inject",
        "z": "79d9afa4.2a85",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "c28f3676.360ea8"
            ]
        ]
    },
    {
        "id": "dd9c7f2e.6ab36",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 360,
        "wires": [
            [
                "91656406.08cdf8"
            ]
        ]
    },
    {
        "id": "1d420538.4b478b",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 360,
        "wires": []
    },
    {
        "id": "b1725466.c00e58",
        "type": "change",
        "z": "79d9afa4.2a85",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"text\" : \"error\", \"fill\" : \"red\", \"shape\" : \"dot\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "e838e9c.154ff18",
        "type": "function",
        "z": "94360486.e11da8",
        "name": "",
        "func": "console.log(RED.settings)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 700,
        "wires": [
            [
                "a8d4c1a0.737b1"
            ]
        ]
    },
    {
        "id": "3e557506.36874a",
        "type": "inject",
        "z": "94360486.e11da8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 700,
        "wires": [
            [
                "e838e9c.154ff18"
            ]
        ]
    },
    {
        "id": "a8d4c1a0.737b1",
        "type": "debug",
        "z": "94360486.e11da8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 700,
        "wires": []
    },
    {
        "id": "790c91f7.4e21e",
        "type": "debug",
        "z": "c07a1be8.659658",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 280,
        "wires": []
    },
    {
        "id": "33ac8fa2.56ca4",
        "type": "inject",
        "z": "c07a1be8.659658",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "d38ad459.f5ac28"
            ]
        ]
    },
    {
        "id": "5504dc97.6a4e04",
        "type": "inject",
        "z": "c07a1be8.659658",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "stop",
        "x": 170,
        "y": 280,
        "wires": [
            [
                "d38ad459.f5ac28"
            ]
        ]
    },
    {
        "id": "3d0f4fdf.d2074",
        "type": "exec",
        "z": "c07a1be8.659658",
        "command": "stt_record --timeout 2",
        "addpay": true,
        "append": "",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "record",
        "x": 270,
        "y": 140,
        "wires": [
            [
                "52e13835.252ff8"
            ],
            [
                "52e13835.252ff8"
            ],
            [
                "52e13835.252ff8"
            ]
        ]
    },
    {
        "id": "80486cec.23fb1",
        "type": "inject",
        "z": "c07a1be8.659658",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "3d0f4fdf.d2074"
            ]
        ]
    },
    {
        "id": "52e13835.252ff8",
        "type": "debug",
        "z": "c07a1be8.659658",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 140,
        "wires": []
    },
    {
        "id": "256f0ec7.e7c3b2",
        "type": "inject",
        "z": "c07a1be8.659658",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "541c13f2.39182c",
        "type": "debug",
        "z": "c07a1be8.659658",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 580,
        "wires": []
    },
    {
        "id": "42572f47.fd982",
        "type": "fuzzy-match",
        "z": "94360486.e11da8",
        "name": "",
        "choices": "yes:Peter\nyes:Peter test\nno:ich glaube peter testet\nno:Aha testen",
        "scorer": "WRatio",
        "limit": "0",
        "cutoff": "0",
        "x": 370,
        "y": 940,
        "wires": [
            [
                "19cf1cef.d8cee3"
            ],
            [
                "4f7c10f1.f6a3c"
            ]
        ]
    },
    {
        "id": "3cfe07d8.4c92d8",
        "type": "fuzzy-match",
        "z": "29928cb0.ddef64",
        "g": "a8081aca.df57b8",
        "name": "recognize yes/no",
        "choices": "yes:Ja * vermisse es\nyes:Ja\nyes:aufjedenfall\nyes:Manchmal schon\nyes:schon\nyes:ja sehr\nno:nein\nno:* vermisse es nicht\nno:* langweilig\nno:nee\nno:nein überhaupt nicht",
        "scorer": "WRatio",
        "limit": "0",
        "cutoff": "50",
        "x": 850,
        "y": 500,
        "wires": [
            [
                "4341ba2b.f38f84"
            ],
            []
        ]
    },
    {
        "id": "d38ad459.f5ac28",
        "type": "play-soundfile",
        "z": "c07a1be8.659658",
        "name": "",
        "directory": "f0c6baff.ba8948",
        "file": "test-de.wav",
        "allow_multiple": false,
        "x": 390,
        "y": 280,
        "wires": [
            [
                "790c91f7.4e21e"
            ]
        ]
    },
    {
        "id": "f7d85c88.15f84",
        "type": "switch",
        "z": "79d9afa4.2a85",
        "name": "",
        "property": "play_beep",
        "propertyType": "env",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 850,
        "y": 80,
        "wires": [
            [
                "d2c2ccf7.555df"
            ]
        ]
    },
    {
        "id": "d2c2ccf7.555df",
        "type": "play-soundfile",
        "z": "79d9afa4.2a85",
        "name": "",
        "directory": "c531aa1.9af8558",
        "file": "beep.wav",
        "allow_multiple": false,
        "x": 1020,
        "y": 80,
        "wires": [
            []
        ]
    }
]